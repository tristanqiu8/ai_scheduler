{
  "optimization": {
    "max_iterations": 20,
    "max_time_seconds": 120,
    "target_satisfaction": 0.85,
    "time_window": 200.0,
    "segment_mode": true,
    "enable_detailed_analysis": true,
    "search_priority": true,
    "log_level": "normal",
    "launch_strategy": "balanced"
  },
  "resources": {
    "resources": [
      { "resource_id": "NPU_0", "resource_type": "NPU", "bandwidth": 40.0 },
      { "resource_id": "DSP_0", "resource_type": "DSP", "bandwidth": 40.0 }
    ]
  },
  "scenario": {
    "use_camera_tasks": false,
    "scenario_name": "Hybrid Task Balanced 200ms",
    "description": "复制自 hybrid_task 场景；1NPU+1DSP@40GB/s；Balanced发射；窗口200ms。",
    "tasks": [
      {
        "task_id": "T1",
        "name": "Parsing",
        "priority": "HIGH",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "NO_SEGMENTATION",
        "fps": 60.0,
        "latency": 16.6667,
        "model": {
          "segments": [
            {"resource_type": "NPU", "duration_table": {"20": 1.63, "40": 1.156, "80": 0.93, "120": 0.9}, "segment_id": "main", "power": 150.0, "ddr": 8.0},
            {"resource_type": "DSP", "duration_table": {"20": 0.48, "40": 0.455, "80": 0.46, "120": 0.45}, "segment_id": "postprocess", "power": 0.0, "ddr": 0.0}
          ]
        }
      },
      {
        "task_id": "T2",
        "name": "ReID",
        "priority": "LOW",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "NO_SEGMENTATION",
        "fps": 25.0,
        "latency": 50.0,
        "model": {
          "segments": [
            {"resource_type": "NPU", "duration_table": {"20": 4.24, "40": 2.864, "80": 2.56, "120": 2.52}, "segment_id": "main", "power": 250.0, "ddr": 12.0}
          ]
        }
      },
      {
        "task_id": "T3",
        "name": "MOTR",
        "priority": "HIGH",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "FORCED_SEGMENTATION",
        "fps": 25.0,
        "latency": 40.0,
        "model": {
          "segments": [
            {"resource_type": "DSP", "duration_table": {"20": 0.316, "40": 0.305, "120": 0.368}, "segment_id": "dsp_s0", "power": 0.0, "ddr": 0.0},
            {"resource_type": "NPU", "duration_table": {"20": 0.43, "40": 0.303, "120": 0.326}, "segment_id": "npu_s1", "power": 60.0, "ddr": 3.0},
            {"resource_type": "NPU", "duration_table": {"20": 12.868, "40": 7.506, "120": 4.312}, "segment_id": "npu_s2", "power": 450.0, "ddr": 25.0},
            {"resource_type": "DSP", "duration_table": {"20": 1.734, "40": 1.226, "120": 0.994}, "segment_id": "dsp_s1", "power": 0.0, "ddr": 0.0},
            {"resource_type": "NPU", "duration_table": {"20": 0.997, "40": 0.374, "120": 0.211}, "segment_id": "npu_s3", "power": 80.0, "ddr": 4.0},
            {"resource_type": "DSP", "duration_table": {"20": 1.734, "40": 1.201, "120": 0.943}, "segment_id": "dsp_s2", "power": 0.0, "ddr": 0.0},
            {"resource_type": "NPU", "duration_table": {"20": 0.602, "40": 0.373, "120": 0.209}, "segment_id": "npu_s4", "power": 70.0, "ddr": 3.5},
            {"resource_type": "DSP", "duration_table": {"20": 1.69, "40": 1.208, "120": 0.975}, "segment_id": "dsp_s3", "power": 0.0, "ddr": 0.0},
            {"resource_type": "NPU", "duration_table": {"20": 0.596, "40": 0.321, "120": 0.134}, "segment_id": "npu_s4", "power": 65.0, "ddr": 3.2}
          ],
          "cut_points": {
            "npu_s2": [
              {"op_id": "cut1", "perf_lut": {"40": 2.5}, "overhead_ms": 0.0},
              {"op_id": "cut2", "perf_lut": {"40": 2.5}, "overhead_ms": 0.0}
            ]
          }
        }
      },
      {
        "task_id": "T4",
        "name": "qim",
        "priority": "HIGH",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "NO_SEGMENTATION",
        "fps": 25.0,
        "latency": 40.0,
        "dependencies": ["T3"],
        "model": {
          "segments": [
            {"resource_type": "NPU", "duration_table": {"10": 1.339, "20": 0.758, "40": 0.474, "80": 0.32, "120": 0.292}, "segment_id": "npu_sub", "power": 100.0, "ddr": 6.0},
            {"resource_type": "DSP", "duration_table": {"10": 1.238, "20": 1.122, "40": 1.04, "80": 1.0, "120": 1.014}, "segment_id": "dsp_sub", "power": 0.0, "ddr": 0.0}
          ]
        }
      },
      {
        "task_id": "T5",
        "name": "pose2d",
        "priority": "NORMAL",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "NO_SEGMENTATION",
        "fps": 25.0,
        "latency": 40.0,
        "dependencies": ["T3"],
        "model": {
          "segments": [
            {"resource_type": "NPU", "duration_table": {"20": 4.324, "40": 3.096, "80": 2.28, "120": 2.04}, "segment_id": "main", "power": 280.0, "ddr": 14.0}
          ]
        }
      },
      {
        "task_id": "T6",
        "name": "tk_template",
        "priority": "NORMAL",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "NO_SEGMENTATION",
        "fps": 5.0,
        "latency": 200.0,
        "model": {
          "segments": [
            {"resource_type": "NPU", "duration_table": {"20": 0.48, "40": 0.33, "80": 0.27, "120": 0.25}, "segment_id": "main", "power": 50.0, "ddr": 2.5}
          ]
        }
      },
      {
        "task_id": "T7",
        "name": "tk_search",
        "priority": "NORMAL",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "NO_SEGMENTATION",
        "fps": 25.0,
        "latency": 40.0,
        "model": {
          "segments": [
            {"resource_type": "NPU", "duration_table": {"20": 1.16, "40": 0.72, "80": 0.54, "120": 0.5}, "segment_id": "main", "power": 90.0, "ddr": 5.0}
          ]
        }
      },
      {
        "task_id": "T8",
        "name": "GrayMask",
        "priority": "NORMAL",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "NO_SEGMENTATION",
        "fps": 10.0,
        "latency": 100.0,
        "model": {
          "segments": [
            {"resource_type": "NPU", "duration_table": {"20": 2.42, "40": 2.0, "80": 1.82, "120": 1.8}, "segment_id": "main", "power": 180.0, "ddr": 10.0}
          ]
        }
      },
      {
        "task_id": "T9",
        "name": "Yolov8nBig",
        "priority": "NORMAL",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "FORCED_SEGMENTATION",
        "fps": 8.0,
        "latency": 125.0,
        "model": {
          "segments": [
            {"resource_type": "NPU", "duration_table": {"20": 20.28, "40": 12.31, "120": 7.5}, "segment_id": "main", "power": 500.0, "ddr": 30.0}
          ],
          "cut_points": {
            "main": [
              {"op_id": "op6", "perf_lut": {"20": 4.699, "40": 2.737, "120": 1.482}, "overhead_ms": 0.0},
              {"op_id": "op13", "perf_lut": {"20": 4.699, "40": 2.737, "120": 1.482}, "overhead_ms": 0.0},
              {"op_id": "op14", "perf_lut": {"20": 4.698, "40": 2.736, "120": 1.483}, "overhead_ms": 0.0},
              {"op_id": "op19", "perf_lut": {"20": 4.699, "40": 2.737, "120": 1.482}, "overhead_ms": 0.0}
            ]
          }
        }
      },
      {
        "task_id": "T10",
        "name": "Yolov8nSmall",
        "priority": "NORMAL",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "FORCED_SEGMENTATION",
        "fps": 8.0,
        "latency": 125.0,
        "model": {
          "segments": [
            {"resource_type": "NPU", "duration_table": {"20": 5.02, "40": 3.16, "120": 2.03}, "segment_id": "main", "power": 200.0, "ddr": 15.0}
          ],
          "cut_points": {
            "main": [
              {"op_id": "op5", "perf_lut": {"20": 1.138, "40": 0.691, "120": 0.418}, "overhead_ms": 0.0},
              {"op_id": "op15", "perf_lut": {"20": 1.138, "40": 0.691, "120": 0.417}, "overhead_ms": 0.0},
              {"op_id": "op19", "perf_lut": {"20": 2.275, "40": 1.381, "120": 0.835}, "overhead_ms": 0.0}
            ]
          }
        }
      },
      {
        "task_id": "T11",
        "name": "Stereo4x",
        "priority": "HIGH",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "FORCED_SEGMENTATION",
        "fps": 10.0,
        "latency": 65.0,
        "model": {
          "segments": [
            {"resource_type": "NPU", "duration_table": {"20": 4.347, "40": 2.73, "80": 2.002, "120": 1.867}, "segment_id": "npu_s0", "power": 220.0, "ddr": 12.0},
            {"resource_type": "DSP", "duration_table": {"20": 1.16, "40": 0.655, "80": 0.441, "120": 0.404}, "segment_id": "dsp_s0", "power": 0.0, "ddr": 0.0},
            {"resource_type": "NPU", "duration_table": {"20": 2.9, "40": 2.016, "80": 1.642, "120": 1.608}, "segment_id": "npu_s1", "power": 180.0, "ddr": 9.0},
            {"resource_type": "DSP", "duration_table": {"20": 1.16, "40": 0.655, "80": 0.441, "120": 0.404}, "segment_id": "dsp_s1", "power": 0.0, "ddr": 0.0},
            {"resource_type": "DSP", "duration_table": {"20": 1.16, "40": 0.655, "80": 0.441, "120": 0.404}, "segment_id": "dsp_s2", "power": 0.0, "ddr": 0.0},
            {"resource_type": "NPU", "duration_table": {"20": 1.456, "40": 1.046, "80": 0.791, "120": 0.832}, "segment_id": "npu_s2", "power": 110.0, "ddr": 6.0},
            {"resource_type": "NPU", "duration_table": {"20": 1.456, "40": 1.115, "80": 0.932, "120": 0.924}, "segment_id": "npu_s3", "power": 115.0, "ddr": 6.2},
            {"resource_type": "NPU", "duration_table": {"20": 8.78, "40": 6.761, "80": 5.712, "120": 5.699}, "segment_id": "npu_s4", "power": 380.0, "ddr": 20.0}
          ],
          "cut_points": {
            "npu_s4": [
              {"op_id": "cut1", "perf_lut": {"40": 2.111}, "overhead_ms": 0.0},
              {"op_id": "cut2", "perf_lut": {"40": 2.222}, "overhead_ms": 0.0}
            ]
          }
        }
      },
      {
        "task_id": "T12",
        "name": "Skywater",
        "priority": "NORMAL",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "FORCED_SEGMENTATION",
        "fps": 10.0,
        "latency": 100.0,
        "model": {
          "segments": [
            {"resource_type": "NPU", "duration_table": {"20": 2.31, "40": 1.49, "80": 1.14, "120": 1.02}, "segment_id": "main", "power": 160.0, "ddr": 8.5},
            {"resource_type": "DSP", "duration_table": {"20": 1.23, "40": 0.71, "80": 0.45, "120": 0.41}, "segment_id": "postprocess", "power": 0.0, "ddr": 0.0}
          ],
          "cut_points": {
            "main": [
              {"op_id": "op4", "perf_lut": {"20": 0.924, "40": 0.596, "80": 0.456, "120": 0.408}, "overhead_ms": 0.0},
              {"op_id": "op14", "perf_lut": {"20": 0.277, "40": 0.179, "80": 0.137, "120": 0.122}, "overhead_ms": 0.0}
            ]
          }
        }
      },
      {
        "task_id": "T13",
        "name": "PeakDetector",
        "priority": "NORMAL",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "NO_SEGMENTATION",
        "fps": 10.0,
        "latency": 100.0,
        "model": {
          "segments": [
            {"resource_type": "NPU", "duration_table": {"20": 1.51, "40": 0.97, "80": 0.7, "120": 0.62}, "segment_id": "main", "power": 120.0, "ddr": 7.0}
          ]
        }
      },
      {
        "task_id": "T14",
        "name": "Skywater_Big1",
        "priority": "HIGH",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "FORCED_SEGMENTATION",
        "fps": 10.0,
        "latency": 34.0,
        "model": {
          "segments": [
            {"resource_type": "NPU", "duration_table": {"20": 4.19, "40": 2.49, "80": 1.7, "120": 1.67}, "segment_id": "main", "power": 240.0, "ddr": 13.0},
            {"resource_type": "DSP", "duration_table": {"20": 1.52, "40": 0.9, "80": 0.58, "120": 0.58}, "segment_id": "postprocess", "power": 0.0, "ddr": 0.0}
          ],
          "cut_points": {
            "main": [
              {"op_id": "op4", "perf_lut": {"20": 1.676, "40": 0.996, "80": 0.68, "120": 0.668}, "overhead_ms": 0.0},
              {"op_id": "op14", "perf_lut": {"20": 0.503, "40": 0.299, "80": 0.204, "120": 0.2}, "overhead_ms": 0.0}
            ]
          }
        }
      },
      {
        "task_id": "T15",
        "name": "Skywater_Big2",
        "priority": "HIGH",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "FORCED_SEGMENTATION",
        "fps": 10.0,
        "latency": 34.0,
        "model": {
          "segments": [
            {"resource_type": "NPU", "duration_table": {"20": 4.19, "40": 2.49, "80": 1.7, "120": 1.67}, "segment_id": "main", "power": 240.0, "ddr": 13.0},
            {"resource_type": "DSP", "duration_table": {"20": 1.52, "40": 0.9, "80": 0.58, "120": 0.58}, "segment_id": "postprocess", "power": 0.0, "ddr": 0.0}
          ],
          "cut_points": {
            "main": [
              {"op_id": "op4", "perf_lut": {"20": 1.676, "40": 0.996, "80": 0.68, "120": 0.668}, "overhead_ms": 0.0},
              {"op_id": "op14", "perf_lut": {"20": 0.503, "40": 0.299, "80": 0.204, "120": 0.2}, "overhead_ms": 0.0}
            ]
          }
        }
      },
      {
        "task_id": "T16",
        "name": "Skywater_Big3",
        "priority": "HIGH",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "FORCED_SEGMENTATION",
        "fps": 10.0,
        "latency": 34.0,
        "model": {
          "segments": [
            {"resource_type": "NPU", "duration_table": {"20": 4.19, "40": 2.49, "80": 1.7, "120": 1.67}, "segment_id": "main", "power": 240.0, "ddr": 13.0},
            {"resource_type": "DSP", "duration_table": {"20": 1.52, "40": 0.9, "80": 0.58, "120": 0.58}, "segment_id": "postprocess", "power": 0.0, "ddr": 0.0}
          ],
          "cut_points": {
            "main": [
              {"op_id": "op4", "perf_lut": {"20": 1.676, "40": 0.996, "80": 0.68, "120": 0.668}, "overhead_ms": 0.0},
              {"op_id": "op14", "perf_lut": {"20": 0.503, "40": 0.299, "80": 0.204, "120": 0.2}, "overhead_ms": 0.0}
            ]
          }
        }
      },
      {
        "task_id": "T17",
        "name": "BonusTask",
        "priority": "LOW",
        "runtime_type": "ACPU_RUNTIME",
        "segmentation_strategy": "NO_SEGMENTATION",
        "fps": 10.0,
        "latency": 100.0,
        "model": {
          "segments": [
            {"resource_type": "NPU", "duration_table": {"40": 7.5}, "segment_id": "main", "power": 300.0, "ddr": 15.0}
          ]
        }
      }
    ]
  }
}
